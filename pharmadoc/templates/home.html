{% extends 'bulma/base.html' %} {% load static %} {% block extrascripts %}

<script src="{% static '/js/jquery-2.0.3.min.js' %}"></script>
<script src="{% static '/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static '/js/dataTables.bootstrap4.min.js' %}"></script>
<link rel="stylesheet" href="{% static '/css/dataTables.bootstrap4.min.css' %}">
{% block title %}FLI Pharmacy{% endblock %}
<script>
  $(document).ready(function () {
    $('#datatable').DataTable({
      "searching": true,
      "scrollX": false,
      "order": [[0, 'desc']],
      "scrollCollapse": true,
      "paging": true,
    });
  });
</script> {% endblock %} {% block content %}
<style>
  < !-- style the filterform so it kinda fits on the screen>-->#filterform label {
    font-size: 75%;
  }

  #filterform select {
    font-size: 75%;
  }

  #filterform input {
    font-size: 75%;
  }

  #filterform {
    padding: 10px;
  }
</style>
<h1 class="text-center"> FLI Pharmacy - Overview</h1>
<form action="/animals/claim" method="POST"> {% csrf_token %}
  <div class="col-lg-12">
    <div class="table-responsive">
      <table id="datatable" class="table table is-striped table is-hoverable">
        <thead>
          <tr>
            <th class="header"> ID
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Name
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Molecule
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Company
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Delivery Date
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Expiry Date
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Batch Number
              <i class="icon-sort"></i>
            </th>
            <th class="header"> Delivered quantity
              <i class="icon-sort"></i>
          </th>
          <th class="header"> Delivered containers
              <i class="icon-sort"></i>
          </th>
          <th class="header"> Available quantity
          </th>
          <th class="header"> Available containers 
          </th>
            <th class="header"> Comments
            </th>
            <th class="header"></th>
            <th class="header"></th>
          </tr>
        </thead>
        <tbody>
          {% for p in filter.qs %}
          <tr {% if not p.available %}class="strikeout" {% endif %}>
            <td>{{p.pk}}</td>
            <td>{{p.pharmacy}}</td>
            <td>{{p.molecule}}</td>
            <td>{{p.pharmacy.company}}</td>
            <td>{{p.delivery_date}}</td>
            <td>{{p.expiry_date}}</td>
            <td>{{p.batch_number}}</td>
            <td>{{p.delivered_quantity}}{{p.unit}}</td>
            <td>{{p.amount_containers}}</td>
            <td>{{p.delivered_quantity}}{{p.unit}}</td>
            <td>{{p.available_containers}}</td>
            <td>{{p.comments}}</td>
            <td><a href="/submit/{{p.pk}}">submit</a></td>
            <td><a href="/submissions/{{p.pk}}">more</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</form>
{% endblock %}